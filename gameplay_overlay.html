<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="utf-8" />
<title>Gameplay Overlay (SVG + Gradient + IM Fell)</title>
<meta name="viewport" content="width=device-width, initial-scale=1" />

<!-- Load IM Fell English SC font -->
<link href="https://fonts.googleapis.com/css2?family=IM+Fell+English+SC&display=swap" rel="stylesheet">

<style>
  /* Page transparent for OBS */
  html,body{margin:0;height:100%;background:transparent;overflow:hidden}

  /* Overlay container */
  #overlay {
    position: relative;
    width: 100vw;
    height: 100vh;
    background: transparent;
  }

  /* SVG fills container */
  .stage{width:100%;height:100%;display:block;background:transparent}

  /* Text styles (all IM Fell now) */
  .name {
    font-family: "IM Fell English SC", serif;
    font-weight: 800;
    font-size: 42px;
    fill:#fff;
    paint-order:stroke;
    stroke:#0008;
    stroke-width:1px;
  }
  .score {
    font-family: "IM Fell English SC", serif;
    font-weight: 900;
    font-size: 62px;          /* bumped from 56px → 62px */
    fill:#111;
    paint-order:stroke;
    stroke:#fff8;
    stroke-width:.7px;        /* slightly heavier stroke for clarity */
  }

  .dbg{fill:none;stroke:#ff3b82;stroke-width:2;opacity:.7;display:none}

  /* ---------- Gradient frame (cosmetic) ---------- */
  :root{
    --frame: 15px;
    --A1:#555; --A2:#333; /* Team A primary/secondary */
    --B1:#333; --B2:#111; /* Team B primary/secondary */
  }
  #frame, #frame .edge { position: absolute; pointer-events: none; }
  #frame { inset: 0; z-index: 10; }

  .edge { background: transparent; }
  .edge.top    { left: 0; right: 0; top: 0; height: var(--frame); }
  .edge.bottom { left: 0; right: 0; bottom: 0; height: var(--frame); }
  .edge.left   { left: 0; top: 0; bottom: 0; width: var(--frame); }
  .edge.right  { right: 0; top: 0; bottom: 0; width: var(--frame); }

  /* Left/right use each team’s tones; top/bottom blend A→B */
  .edge.left  { background: linear-gradient(to bottom, var(--A1), var(--A2)); }
  .edge.right { background: linear-gradient(to bottom, var(--B1), var(--B2)); }
  .edge.top    { background: linear-gradient(to right, var(--A1), var(--B1)); }
  .edge.bottom { background: linear-gradient(to right, var(--A2), var(--B2)); }
</style>
</head>
<body>

<div id="overlay">
  <!-- Working SVG -->
  <svg class="stage" viewBox="0 0 1920 1080" preserveAspectRatio="xMidYMid meet">
    <!-- Background -->
    <image href="overlay.png" x="0" y="0" width="1920" height="1080" />

    <!-- Debug rectangles (toggle in JS) -->
    <rect id="dbgNameA" class="dbg" x="389"  y="32"  width="444" height="52"/>
    <rect id="dbgNameB" class="dbg" x="1079" y="32"  width="444" height="52"/>
    <rect id="dbgScoreA" class="dbg" x="502"  y="88"  width="192" height="51"/>
    <rect id="dbgScoreB" class="dbg" x="1224" y="87"  width="192" height="51"/>

    <!-- Team names -->
    <text id="teamAName" class="name"
          x="611" y="58" text-anchor="middle" dominant-baseline="middle"
          data-maxwidth="444">Team A</text>

    <text id="teamBName" class="name"
          x="1301" y="58" text-anchor="middle" dominant-baseline="middle"
          data-maxwidth="444">Team B</text>

    <!-- Scores -->
    <text id="teamAScore" class="score"
          x="598" y="121" text-anchor="middle" dominant-baseline="middle">0</text>

    <text id="teamBScore" class="score"
          x="1320" y="121" text-anchor="middle" dominant-baseline="middle">0</text>
  </svg>

  <!-- Gradient border -->
  <div id="frame" aria-hidden="true">
    <div class="edge top"></div>
    <div class="edge right"></div>
    <div class="edge bottom"></div>
    <div class="edge left"></div>
  </div>
</div>

<script>
  // Debug toggle
  const DEBUG = false;
  if (DEBUG) {
    ["dbgNameA","dbgNameB","dbgScoreA","dbgScoreB"].forEach(id=>{
      const el = document.getElementById(id);
      if (el) el.style.display="block";
    });
  }

  // Shrink-to-fit team names
  function fitText(id) {
    const el = document.getElementById(id);
    const maxW = parseFloat(el.getAttribute("data-maxwidth") || "444");
    const max = 42, min = 18;
    el.style.fontSize = max + "px";
    let size = max;
    while (el.getBBox().width > maxW - 10 && size > min) {
      size -= 1;
      el.style.fontSize = size + "px";
    }
  }
  fitText("teamAName");
  fitText("teamBName");
</script>

</body>
</html>
